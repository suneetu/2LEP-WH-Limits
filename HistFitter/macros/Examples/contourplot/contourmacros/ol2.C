#include "contourmacros/CombinationGlob.C"

TGraph* ol2(double xmin=40, double xmax=840., double ymin=100, double ymax=340., TString xlabel = TString("m_{0} / GeV"), TString ylabel = TString("m_{1/2} / GeV")){

  TGraph* lepc_curv = lep_chargino();
  int npts = lepc_curv->GetN();
  TGraph* g_exc_lepc = new TGraph(npts+3);
  double x,y;
  for(int i=0; i<npts; i++) {
    lepc_curv->GetPoint(i,x,y);
    g_exc_lepc->SetPoint(i,x,y);
  }
  g_exc_lepc->SetPoint(npts,0,y);
  g_exc_lepc->SetPoint(npts+1,0,0);
  g_exc_lepc->SetPoint(npts+2,1160,0);
  g_exc_lepc->SetLineColor(CombinationGlob::c_DarkGray);
  //g_exc_lepc->SetFillColor(kPink+8);
  g_exc_lepc->SetLineWidth(1);
  g_exc_lepc->SetFillColor(CombinationGlob::c_BlueT3); //c_MLightGray);
  g_exc_lepc->GetXaxis()->SetRangeUser(xmin,xmax);
  g_exc_lepc->GetXaxis()->SetTitle(xlabel.Data());
  g_exc_lepc->GetYaxis()->SetRangeUser(ymin,ymax);
  g_exc_lepc->GetYaxis()->SetTitle(ylabel.Data());
  g_exc_lepc->GetYaxis()->SetTitleOffset(1.35);
  
  g_exc_lepc->Draw("FSAME"); //AFSAME
  g_exc_lepc->Draw("LSAME"); //AFSAME
  //leg->Draw();

  gPad->RedrawAxis();

  return g_exc_lepc;
}

TGraph *lep_chargino() {

  TString filename("leplimits.root");

  FILE *fp = fopen("chrg_mass.txt","r");

  Double_t m0[204];
  Double_t m12[204];
  Double_t m3[204];

  int i = 0;
  m0[i]=1000; m12[i]=100; m3[i]=7.18291550E+01; i++;
  m0[i]=1000; m12[i]=130; m3[i]=9.60832748E+01; i++;
  m0[i]=1000; m12[i]=160; m3[i]=1.20394180E+02; i++;
  m0[i]=1000; m12[i]=190; m3[i]=1.44660309E+02; i++;
  m0[i]=1000; m12[i]=220; m3[i]=1.68967239E+02; i++;
  m0[i]=1000; m12[i]=250; m3[i]=1.93288681E+02; i++;
  m0[i]=1000; m12[i]=280; m3[i]=2.17579971E+02; i++;
  m0[i]=1000; m12[i]=310; m3[i]=2.41936859E+02; i++;
  m0[i]=1000; m12[i]=340; m3[i]=2.66385345E+02; i++;
  m0[i]=1080; m12[i]=100; m3[i]=7.26835632E+01; i++;
  m0[i]=1080; m12[i]=130; m3[i]=9.70620956E+01; i++;
  m0[i]=1080; m12[i]=160; m3[i]=1.21452896E+02; i++;
  m0[i]=1080; m12[i]=190; m3[i]=1.45825638E+02; i++;
  m0[i]=1080; m12[i]=220; m3[i]=1.70145859E+02; i++;
  m0[i]=1080; m12[i]=250; m3[i]=1.94518448E+02; i++;
  m0[i]=1080; m12[i]=280; m3[i]=2.18854584E+02; i++;
  m0[i]=1080; m12[i]=310; m3[i]=2.43221863E+02; i++;
  m0[i]=1080; m12[i]=340; m3[i]=2.67675659E+02; i++;
  m0[i]=1160; m12[i]=100; m3[i]=7.34303131E+01; i++;
  m0[i]=1160; m12[i]=130; m3[i]=9.78999100E+01; i++;
  m0[i]=1160; m12[i]=160; m3[i]=1.22345947E+02; i++;
  m0[i]=1160; m12[i]=190; m3[i]=1.46821823E+02; i++;
  m0[i]=1160; m12[i]=220; m3[i]=1.71211258E+02; i++;
  m0[i]=1160; m12[i]=250; m3[i]=1.95625397E+02; i++;
  m0[i]=1160; m12[i]=280; m3[i]=2.20026093E+02; i++;
  m0[i]=1160; m12[i]=310; m3[i]=2.44443466E+02; i++;
  m0[i]=1160; m12[i]=340; m3[i]=2.68905701E+02; i++;
  m0[i]=120; m12[i]=100; m3[i]=4.14606972E+01; i++;
  m0[i]=120; m12[i]=115; m3[i]=5.52494354E+01; i++;
  m0[i]=120; m12[i]=130; m3[i]=6.88971863E+01; i++;
  m0[i]=120; m12[i]=145; m3[i]=8.23973465E+01; i++;
  m0[i]=120; m12[i]=160; m3[i]=9.58016281E+01; i++;
  m0[i]=120; m12[i]=175; m3[i]=1.09081116E+02; i++;
  m0[i]=120; m12[i]=190; m3[i]=1.22254593E+02; i++;
  m0[i]=120; m12[i]=205; m3[i]=1.35337418E+02; i++;
  m0[i]=120; m12[i]=220; m3[i]=1.48367477E+02; i++;
  m0[i]=120; m12[i]=250; m3[i]=1.74209747E+02; i++;
  m0[i]=120; m12[i]=280; m3[i]=1.99850662E+02; i++;
  m0[i]=120; m12[i]=310; m3[i]=2.25348602E+02; i++;
  m0[i]=120; m12[i]=340; m3[i]=2.50730469E+02; i++;
  m0[i]=160; m12[i]=100; m3[i]=4.35289230E+01; i++;
  m0[i]=160; m12[i]=115; m3[i]=5.69426613E+01; i++;
  m0[i]=160; m12[i]=130; m3[i]=7.03327026E+01; i++;
  m0[i]=160; m12[i]=145; m3[i]=8.36317673E+01; i++;
  m0[i]=160; m12[i]=160; m3[i]=9.68744583E+01; i++;
  m0[i]=160; m12[i]=175; m3[i]=1.10023956E+02; i++;
  m0[i]=160; m12[i]=190; m3[i]=1.23098335E+02; i++;
  m0[i]=160; m12[i]=205; m3[i]=1.36136017E+02; i++;
  m0[i]=160; m12[i]=220; m3[i]=1.49073074E+02; i++;
  m0[i]=200; m12[i]=100; m3[i]=4.58294411E+01; i++;
  m0[i]=200; m12[i]=115; m3[i]=5.88792763E+01; i++;
  m0[i]=200; m12[i]=130; m3[i]=7.19462891E+01; i++;
  m0[i]=200; m12[i]=145; m3[i]=8.50187302E+01; i++;
  m0[i]=200; m12[i]=160; m3[i]=9.80749969E+01; i++;
  m0[i]=200; m12[i]=175; m3[i]=1.11130669E+02; i++;
  m0[i]=200; m12[i]=190; m3[i]=1.24100670E+02; i++;
  m0[i]=200; m12[i]=205; m3[i]=1.37039825E+02; i++;
  m0[i]=200; m12[i]=220; m3[i]=1.49936691E+02; i++;
  m0[i]=200; m12[i]=250; m3[i]=1.75565842E+02; i++;
  m0[i]=200; m12[i]=280; m3[i]=2.01064316E+02; i++;
  m0[i]=200; m12[i]=310; m3[i]=2.26442307E+02; i++;
  m0[i]=200; m12[i]=340; m3[i]=2.51742767E+02; i++;
  m0[i]=240; m12[i]=100; m3[i]=4.82462502E+01; i++;
  m0[i]=240; m12[i]=115; m3[i]=6.09347305E+01; i++;
  m0[i]=240; m12[i]=130; m3[i]=7.37484360E+01; i++;
  m0[i]=240; m12[i]=145; m3[i]=8.66066513E+01; i++;
  m0[i]=240; m12[i]=160; m3[i]=9.94813385E+01; i++;
  m0[i]=240; m12[i]=175; m3[i]=1.12338806E+02; i++;
  m0[i]=240; m12[i]=190; m3[i]=1.25211884E+02; i++;
  m0[i]=240; m12[i]=205; m3[i]=1.38045593E+02; i++;
  m0[i]=240; m12[i]=220; m3[i]=1.50849289E+02; i++;
  m0[i]=280; m12[i]=100; m3[i]=5.06069374E+01; i++;
  m0[i]=280; m12[i]=115; m3[i]=6.30533943E+01; i++;
  m0[i]=280; m12[i]=130; m3[i]=7.56166306E+01; i++;
  m0[i]=280; m12[i]=145; m3[i]=8.82603683E+01; i++;
  m0[i]=280; m12[i]=160; m3[i]=1.00938873E+02; i++;
  m0[i]=280; m12[i]=175; m3[i]=1.13667130E+02; i++;
  m0[i]=280; m12[i]=190; m3[i]=1.26408447E+02; i++;
  m0[i]=280; m12[i]=205; m3[i]=1.39132675E+02; i++;
  m0[i]=280; m12[i]=220; m3[i]=1.51855240E+02; i++;
  m0[i]=280; m12[i]=250; m3[i]=1.77218475E+02; i++;
  m0[i]=280; m12[i]=280; m3[i]=2.02508255E+02; i++;
  m0[i]=280; m12[i]=310; m3[i]=2.27777451E+02; i++;
  m0[i]=280; m12[i]=340; m3[i]=2.52978348E+02; i++;
  m0[i]=320; m12[i]=100; m3[i]=5.28818665E+01; i++;
  m0[i]=320; m12[i]=115; m3[i]=6.50925827E+01; i++;
  m0[i]=320; m12[i]=130; m3[i]=7.74493256E+01; i++;
  m0[i]=320; m12[i]=145; m3[i]=8.99370346E+01; i++;
  m0[i]=320; m12[i]=160; m3[i]=1.02462624E+02; i++;
  m0[i]=320; m12[i]=175; m3[i]=1.15035362E+02; i++;
  m0[i]=320; m12[i]=190; m3[i]=1.27650787E+02; i++;
  m0[i]=320; m12[i]=205; m3[i]=1.40257736E+02; i++;
  m0[i]=320; m12[i]=220; m3[i]=1.52903442E+02; i++;
  m0[i]=360; m12[i]=100; m3[i]=5.50306854E+01; i++;
  m0[i]=360; m12[i]=115; m3[i]=6.70462112E+01; i++;
  m0[i]=360; m12[i]=130; m3[i]=7.92795258E+01; i++;
  m0[i]=360; m12[i]=145; m3[i]=9.16205368E+01; i++;
  m0[i]=360; m12[i]=160; m3[i]=1.03980141E+02; i++;
  m0[i]=360; m12[i]=175; m3[i]=1.16455765E+02; i++;
  m0[i]=360; m12[i]=190; m3[i]=1.28952972E+02; i++;
  m0[i]=360; m12[i]=205; m3[i]=1.41457153E+02; i++;
  m0[i]=360; m12[i]=220; m3[i]=1.53988663E+02; i++;
  m0[i]=360; m12[i]=250; m3[i]=1.79076019E+02; i++;
  m0[i]=360; m12[i]=280; m3[i]=2.04201996E+02; i++;
  m0[i]=360; m12[i]=310; m3[i]=2.29270584E+02; i++;
  m0[i]=360; m12[i]=340; m3[i]=2.54309998E+02; i++;
  m0[i]=400; m12[i]=100; m3[i]=5.70361519E+01; i++;
  m0[i]=400; m12[i]=115; m3[i]=6.89165649E+01; i++;
  m0[i]=400; m12[i]=130; m3[i]=8.09918823E+01; i++;
  m0[i]=400; m12[i]=145; m3[i]=9.32000885E+01; i++;
  m0[i]=400; m12[i]=160; m3[i]=1.05487274E+02; i++;
  m0[i]=400; m12[i]=175; m3[i]=1.17859474E+02; i++;
  m0[i]=400; m12[i]=190; m3[i]=1.30243347E+02; i++;
  m0[i]=400; m12[i]=205; m3[i]=1.42660126E+02; i++;
  m0[i]=400; m12[i]=220; m3[i]=1.55127365E+02; i++;
  m0[i]=40; m12[i]=100; m3[i]=3.87796707E+01; i++;
  m0[i]=40; m12[i]=115; m3[i]=5.30686264E+01; i++;
  m0[i]=40; m12[i]=130; m3[i]=6.70457001E+01; i++;
  m0[i]=40; m12[i]=145; m3[i]=8.08115692E+01; i++;
  m0[i]=40; m12[i]=160; m3[i]=9.43690872E+01; i++;
  m0[i]=40; m12[i]=175; m3[i]=1.07803383E+02; i++;
  m0[i]=40; m12[i]=190; m3[i]=1.21088722E+02; i++;
  m0[i]=40; m12[i]=205; m3[i]=1.34277863E+02; i++;
  m0[i]=40; m12[i]=220; m3[i]=1.47402298E+02; i++;
  m0[i]=40; m12[i]=250; m3[i]=1.73337982E+02; i++;
  m0[i]=40; m12[i]=280; m3[i]=1.99122971E+02; i++;
  m0[i]=40; m12[i]=310; m3[i]=2.24687561E+02; i++;
  m0[i]=40; m12[i]=340; m3[i]=2.50155487E+02; i++;
  m0[i]=440; m12[i]=100; m3[i]=5.88942146E+01; i++;
  m0[i]=440; m12[i]=115; m3[i]=7.07098541E+01; i++;
  m0[i]=440; m12[i]=130; m3[i]=8.26450806E+01; i++;
  m0[i]=440; m12[i]=145; m3[i]=9.47519455E+01; i++;
  m0[i]=440; m12[i]=160; m3[i]=1.06955650E+02; i++;
  m0[i]=440; m12[i]=175; m3[i]=1.19223488E+02; i++;
  m0[i]=440; m12[i]=190; m3[i]=1.31517029E+02; i++;
  m0[i]=440; m12[i]=205; m3[i]=1.43873260E+02; i++;
  m0[i]=440; m12[i]=220; m3[i]=1.56266434E+02; i++;
  m0[i]=440; m12[i]=250; m3[i]=1.81081848E+02; i++;
  m0[i]=440; m12[i]=280; m3[i]=2.05980209E+02; i++;
  m0[i]=440; m12[i]=310; m3[i]=2.30885483E+02; i++;
  m0[i]=440; m12[i]=340; m3[i]=2.55817581E+02; i++;
  m0[i]=520; m12[i]=100; m3[i]=6.20343399E+01; i++;
  m0[i]=520; m12[i]=130; m3[i]=8.56798096E+01; i++;
  m0[i]=520; m12[i]=160; m3[i]=1.09684196E+02; i++;
  m0[i]=520; m12[i]=190; m3[i]=1.34010330E+02; i++;
  m0[i]=520; m12[i]=220; m3[i]=1.58507538E+02; i++;
  m0[i]=520; m12[i]=250; m3[i]=1.83111298E+02; i++;
  m0[i]=520; m12[i]=280; m3[i]=2.07801514E+02; i++;
  m0[i]=520; m12[i]=310; m3[i]=2.32563660E+02; i++;
  m0[i]=520; m12[i]=340; m3[i]=2.57367523E+02; i++;
  m0[i]=600; m12[i]=100; m3[i]=6.45483780E+01; i++;
  m0[i]=600; m12[i]=130; m3[i]=8.82515335E+01; i++;
  m0[i]=600; m12[i]=160; m3[i]=1.12160088E+02; i++;
  m0[i]=600; m12[i]=190; m3[i]=1.36280304E+02; i++;
  m0[i]=600; m12[i]=220; m3[i]=1.60613586E+02; i++;
  m0[i]=600; m12[i]=250; m3[i]=1.85107147E+02; i++;
  m0[i]=600; m12[i]=280; m3[i]=2.09653854E+02; i++;
  m0[i]=600; m12[i]=310; m3[i]=2.34258331E+02; i++;
  m0[i]=600; m12[i]=340; m3[i]=2.58931671E+02; i++;
  m0[i]=680; m12[i]=100; m3[i]=6.65923080E+01; i++;
  m0[i]=680; m12[i]=130; m3[i]=9.03800278E+01; i++;
  m0[i]=680; m12[i]=160; m3[i]=1.14328415E+02; i++;
  m0[i]=680; m12[i]=190; m3[i]=1.38403427E+02; i++;
  m0[i]=680; m12[i]=220; m3[i]=1.62599854E+02; i++;
  m0[i]=680; m12[i]=250; m3[i]=1.86982910E+02; i++;
  m0[i]=680; m12[i]=280; m3[i]=2.11450821E+02; i++;
  m0[i]=680; m12[i]=310; m3[i]=2.35953506E+02; i++;
  m0[i]=680; m12[i]=340; m3[i]=2.60525452E+02; i++;
  m0[i]=760; m12[i]=100; m3[i]=6.82815704E+01; i++;
  m0[i]=760; m12[i]=130; m3[i]=9.21819305E+01; i++;
  m0[i]=760; m12[i]=160; m3[i]=1.16205269E+02; i++;
  m0[i]=760; m12[i]=190; m3[i]=1.40288345E+02; i++;
  m0[i]=760; m12[i]=220; m3[i]=1.64433731E+02; i++;
  m0[i]=760; m12[i]=250; m3[i]=1.88725098E+02; i++;
  m0[i]=760; m12[i]=280; m3[i]=2.13124023E+02; i++;
  m0[i]=760; m12[i]=310; m3[i]=2.37567215E+02; i++;
  m0[i]=760; m12[i]=340; m3[i]=2.62053162E+02; i++;
  m0[i]=80; m12[i]=100; m3[i]=3.98542099E+01; i++;
  m0[i]=80; m12[i]=115; m3[i]=5.39445801E+01; i++;
  m0[i]=80; m12[i]=130; m3[i]=6.77672348E+01; i++;
  m0[i]=80; m12[i]=145; m3[i]=8.14429245E+01; i++;
  m0[i]=80; m12[i]=160; m3[i]=9.49375687E+01; i++;
  m0[i]=80; m12[i]=175; m3[i]=1.08310806E+02; i++;
  m0[i]=80; m12[i]=190; m3[i]=1.21540825E+02; i++;
  m0[i]=80; m12[i]=205; m3[i]=1.34711136E+02; i++;
  m0[i]=80; m12[i]=220; m3[i]=1.47758469E+02; i++;
  m0[i]=840; m12[i]=100; m3[i]=6.96657791E+01; i++;
  m0[i]=840; m12[i]=130; m3[i]=9.37036057E+01; i++;
  m0[i]=840; m12[i]=160; m3[i]=1.17791008E+02; i++;
  m0[i]=840; m12[i]=190; m3[i]=1.41958939E+02; i++;
  m0[i]=840; m12[i]=220; m3[i]=1.66130341E+02; i++;
  m0[i]=840; m12[i]=250; m3[i]=1.90358643E+02; i++;
  m0[i]=840; m12[i]=280; m3[i]=2.14725952E+02; i++;
  m0[i]=840; m12[i]=310; m3[i]=2.39121948E+02; i++;
  m0[i]=840; m12[i]=340; m3[i]=2.63549255E+02; i++;
  m0[i]=920; m12[i]=100; m3[i]=7.08313370E+01; i++;
  m0[i]=920; m12[i]=130; m3[i]=9.49795532E+01; i++;
  m0[i]=920; m12[i]=160; m3[i]=1.19173927E+02; i++;
  m0[i]=920; m12[i]=190; m3[i]=1.43377884E+02; i++;
  m0[i]=920; m12[i]=220; m3[i]=1.67640427E+02; i++;
  m0[i]=920; m12[i]=250; m3[i]=1.91856262E+02; i++;
  m0[i]=920; m12[i]=280; m3[i]=2.16199707E+02; i++;
  m0[i]=920; m12[i]=310; m3[i]=2.40584625E+02; i++;
  m0[i]=920; m12[i]=340; m3[i]=2.64980804E+02;

  TGraph2D* g_m_chrg = new TGraph2D("g_m_chrg","Chargino 1 mass",204,m0,m12,m3);

  Double_t m_contours[2];
  m_contours[0] = 50;
  m_contours[1] = 101;

  g_m_chrg->GetXaxis()->SetRangeUser(40,1160);
  g_m_chrg->GetYaxis()->SetRangeUser(100,340);
  g_m_chrg->GetHistogram()->SetContour(2,m_contours);
  
  TCanvas c_lepc;
  g_m_chrg->Draw("contlistgoff");
  c_lepc.Update();
  TObjArray* lepc_conts = (TObjArray*) gROOT->GetListOfSpecials()->FindObject("contours");
  TList* lepc_cont = (TList*) lepc_conts->At(1);
  TGraph* lepc_curv = (TGraph*) lepc_cont->First();
  //  lepc_curv = (TGraph*) lepc_cont->After(lepc_curv);

  return (TGraph*) lepc_curv->Clone();
}
